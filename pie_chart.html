<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Data Visualization Project - Pie Chart</title>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"
          integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link rel="stylesheet" href="styles.css">
</head>

<body>
<nav class="navbar navbar-expand-lg navbar-light bg-light">
    <div class="container">
        <a class="navbar-brand" href="#">Data Visualization Project</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav"
                aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav ml-auto">
                <li class="nav-item">
                    <a class="nav-link" href="index.html">Home</a>
                </li>
                <li class="nav-item active">
                    <a class="nav-link" href="pie_chart.html">Pie Chart</a>
                </li>
            </ul>
        </div>
    </div>
</nav>
<nav class="sidebar">
    <ul>
        <li><a href="bar_chart.html">Bar Chart</a></li>
        <li><a href="stacked_bar_chart.html">Stacked Bar Chart</a></li>
        <li><a href="bubble_chart.html">Bubble Chart</a></li>
        <li><a href="scatter_plot.html">Scatter Plot</a></li>
        <li><a href="tree_map.html">Tree Map</a></li>
    </ul>
</nav>
<div class="container">
    <h1>Pie Chart - Album Price Distribution</h1>
    <p>Pie chart to show the distribution of album prices among the top albums. Each slice of the pie represents
        an album, and the size of the slice is determined by the album's price.</p>
    <div id="album-count" class="text-center mt-3" style="font-size: 25px; display: none;"></div>

    <div id="chart-container"></div>

    <table class="table mt-5">
        <thead>
        <tr>
            <th>Price</th>
            <th>Count</th>
            <th>Percentage</th>
        </tr>
        </thead>
        <tbody id="table-data"></tbody>
    </table>
</div>
<script src="components/Chart.js"></script>
<script src="components/PieChart.js"></script>
<script>
    function createPieChart(albums) {
        // Extract albums feed/entry
        const nestedAlbums = albums['feed']['entry'];
        const chart = new PieChart(nestedAlbums);
        chart.createPieChart();
        chart.createSummaryTable();
    }

    // Load data from the JSON file and call the createPieChart function
    d3.json('albums.json').then(createPieChart);

</script>
</body>

</html>
